# 开发者文档
速享使用 websocket 构建了基于聊天服务器(由 get_server 搭建)的文件共享窗口，文件部署使用的是 shelf 相关的库。
聊天窗口发送的为 Json 类型的消息，根据不同的消息类型用不同的字段进行曲区分。

## 文件互传实现

速享的文件共享分三部步：

**1. 静态部署选择的文件**

这部分更多是后端的知识，但理解起来不难，以文件的完整路径为 url 进行响应文件内容。
速享并不关心自己何时需要发送文件，例如下载服务器上部署的文件，服务器只需要监听、响应，不关心具体何时进行发送。

**2. 发送聊天消息，并带上文件的路径，和本机所在的ip 列表**

与其他文件共享不一样，速享只是告诉其他它端应该从哪儿下到这个文件，而不是直接发送。
其他的根据消息群所包含的 IP 列表与自身 IP 进行比较，计算出文件的下载地址，
这个计算逻辑也并不复杂，


## 消息协议

1. 普通消息
```json
{
    "msgType":"text",
    "content":"消息内容"
}
```
2. 文件消息

2.1 图片消息

```json
{
    "msgType":"img",
    "content":"图片名",
    "url":"url前缀",
    "path":"文件所在路径"
}
```

## 集成

例如你有一个自己的工具箱，里面有一些类似于速享的工具，你想要将速享集成其中。